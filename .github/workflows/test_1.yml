name: work flow install node

on: [push]

jobs:
  install-node:
    runs-on: ubuntu-latest
    environment: SECRET-VAR
    env:
      VAR_GENERAL: localhost
    steps:
      - name: Use variable
        env:
          MESSAGE: ${{ vars.VAR_SECRET_TEST }} 
        run: |
          if [ "$MESSAGE" == "Hola soy add variable desde github" ]; then
            echo "La variable se ha establecido correctamente."
          else
            echo "La variable no se ha establecido correctamente."
          fi
      - name: show secret var
        run: |
          mkdir -p ~/.ssh
          echo "${{ secrets.AWS_SSH_SECRET }}" >> ~/.ssh/id_rsa
          chmod 600 ~/.ssh/id_rsa
          ssh-keyscan -H github.com >> ~/.ssh/known_hosts
          cat ~/.ssh/known_hosts
      - name: cat id_rsa
        run: cat ~/.ssh/id_rsa
      - name: show secret var two
        run: |
          echo "${{ secrets.AWS_SSH_SECRET_TWO }}" >> ~/erichj.text
          cat ~/erichj.text
        

